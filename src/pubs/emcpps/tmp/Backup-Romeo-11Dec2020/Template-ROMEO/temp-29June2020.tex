%!TEX TS-program = xelatex 
%!TEX encoding = UTF-8 Unicode





% Options for packages loaded elsewhere
% \PassOptionsToPackage{unicode}{hyperref}
% \PassOptionsToPackage{hyphens}{url}


%

% \documentclass[
% % % % % % ]{report}

% PEARSON
\documentclass[twoside,10pt,letterpaper,usenames]{newstyle-PearsonGeneric-7-38}
\usepackage[twoside]{geometry} % to set the dimensions of the page

% PEARSON
\geometry{                                  % setting all the necessary dimensions...
paperwidth=7.375in,                  % Do not change these settings.
paperheight=9.125in,                 % These set up the trim size for the book.
lmargin=1in,
rmargin=.875in,
bmargin=.650in,
tmargin=.95in,
width=5.5in,
height=7.4in,
marginparwidth=0in,
marginparsep=0in,
headheight=0.2in,
headsep=.25in,
footskip=.025in}

% PEARSON
%%%%%%%% Skip over this part.  These lines should remain unaltered.
%
%%    These lines input packages that are used for this template.
\usepackage[letter,cam,center]{crop-AlteredCamMarks}  % to add trim marks; updated Nov 2015 to allow more space between marks and trim edge
\usepackage{graphicx} % for graphics layout

%%%% CHANGED FOR ROMEO
% Changing code font to Cousine
\usepackage{mathspec}
\setmonofont[Ligatures=NoCommon,Scale=.9,SlantedFont={Cousine Italic},BoldFont={Cousine Bold},BoldSlantedFont={Cousine Bold Italic}]{Cousine Regular} % to set our code font
\newfontface{\SecCode}[Ligatures=NoCommon,Scale=1.3]{Cousine Bold}
\newfontface{\SubsecCode}[Ligatures=NoCommon,Scale=1.1]{Cousine Bold}
\newfontface{\SubsubsecCode}[Ligatures=NoCommon,Scale=.91]{Cousine Bold}
\newfontface{\ParaCode}[Ligatures=NoCommon,Scale=.9]{Cousine Bold}
\newfontface{\SubparaCode}[Ligatures=NoCommon,Scale=.9]{Cousine Regular}


%%% LORI
\usepackage{cprotect}

\usepackage{amsfonts} % to ensure attractive mathematics
\usepackage{amssymb} % to ensure attractive mathematics
\usepackage{float}      % to allow things to float even if they normally don't
\usepackage{wrapfig} % to allow text to wrap around small figures
\usepackage{outline} % to allow outline creation
\usepackage{framed-PearsonGeneric} % to create the leftside vertical bar for the example environment

\usepackage{listings}  % for setting attractive computer code

% EMCPPS VITTORIO: to format inside code blocks

\definecolor{maroon}{cmyk}{.26,1,.63,.17}
\definecolor{skyblue}{cmyk}{.62,.07,0,0}
\definecolor{forestgreen}{cmyk}{.9,0,.9,0}
\definecolor{mustard}{cmyk}{.22,.14,1,0}
\definecolor{purple}{cmyk}{.83,.81,0,0}

%%%%% CHANGED FOR ROMEO
% changed font to Cousine, changed to 2ex indent
\lstset{language=C++,basicstyle=\ttfamily\small,framerule=0.5pt,
emph=[1]{const},
  emphstyle=[1]{\color{mustard}\ttfamily},
  moreemph=[2]{int,void,char},
  emphstyle=[2]{\color{maroon}\ttfamily},
    moreemph=[3]{decltype},
      emphstyle=[3]{\color{forestgreen}\ttfamily},
    keywordstyle={\color{forestgreen}\ttfamily\bfseries},
  stringstyle={\color{purple}},
commentstyle={\color{skyblue}\itshape},
numberstyle=\color{purple},
xleftmargin=2ex,
    escapeinside={(*}{*)},
    showstringspaces=false,
} % setting the code in small sans serif font and
% setting the margin for the code.  Nov 2015: setting the rules to be 0.5pt
%%%%%%%%%%%%%
\newcommand{\codeincomments}{\color{skyblue}\ttfamily}
%%%%%%%%%%%%%%%%%%%%%

\newcommand{\authorsnote}{Authors' Note:}

\newcommand{\intraref}[1]{\textit{#1}}


\usepackage[stable,bottom]{footmisc} % to stabilize the footnote environment and to ensure footnotes
							  % appear at the bottom of the page, even if a figure or table
							  % appears at the bottom
\usepackage[flushleft]{threeparttable} % to set attractive footnotes within table environments
\usepackage{titleref} % to allow cross-referencing by title
\usepackage{xr} % to allow cross-referencing between files
\usepackage{colortbl} % to allow the use of color/shading in tables
\usepackage{caption} % to set the appearance of captions
\captionsetup[table]{singlelinecheck=off,labelfont={sf,bf,small},font={sf,bf,small}}
\captionsetup[figure]{labelfont={sf,bf,small},font={sf,bf,small}}
\captionsetup[lstlisting]{labelfont={sf,bf,small},font={sf,bf,small}}
\usepackage{tocloft-hacked-PearsonGeneric} % to allow manipulation of the TOC
\frenchspacing

%%%%%%%% Determine your indexing plan.
%
% Most of the time, the publisher will hire an independent indexing expert to create an
%    index for your book.  Your production editor can let you know the plan for your book.
% Use the line below only if your production plan includes the creation of a LaTeX index.
% Note that this situation is uncommon.
%\makeindex           % if your book will include a LaTeX-generated index
%\usepackage{See-makeidx}

%%%%%%%%%% These lines set up the Preamble of the document. You can skip over this part.
%% Preamble:
\input{definitions-PearsonGeneric}  % Loading the definitions needed for this book:


%%%%%%%%%%CHANGED FOR ROMEO
\setcounter{secnumdepth}{2}

% Required for PANDOC conversion
\newcommand{\passthrough}[1]{#1}

% Hack to allow PANDOC to parse Markdown in inline LaTeX environments
\let\Begin\begin
\let\End\end

% PANDOC stuff
%\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
%\IfFileExists{microtype.sty}{% use microtype if available
%  \usepackage[]{microtype}
%  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
%}{}
%\makeatletter
%\@ifundefined{KOMAClassName}{% if non-KOMA class
%  \IfFileExists{parskip.sty}{%
%    \usepackage{parskip}
%  }{% else
%    \setlength{\parindent}{0pt}
%    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
%}{% if KOMA class
%  \KOMAoptions{parskip=half}}
%\makeatother
%\usepackage{xcolor}
% \IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available

% \IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
% \hypersetup{
% % % % % % %   hidelinks,
% %   pdfcreator={LaTeX via pandoc}}


% \urlstyle{same} % disable monospaced font for URLs


% 
% 


\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% 




\author{}
\date{}

\begin{document}

% PEARSON
\input{cft-definitions-PearsonGeneric} % Loading a few commands related to the tocloft package




% %
% %
% %
% %
% 
% \input{emcpps_frontmatter}
% \include{part1}

\cleardoublepage % This command ensures that each chapter starts on a right-hand page 

% Chapter Title and reference label
\chapter{Safe}\label{SafeChap}
% use the chapter author line below if needed. Otherwise, just comment it out. 
%\chapauthor{First Author Name, Second Author Name, Subsequent Author Name}
 
% A beginning quote would go here.     
%\epigraph{If the chapter begins with a quote (or similar),\\ this is the place for that material.  }
    
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

\section[C++11]{C++11}\label{c++11}

Small amount of intro text here. Lorem ipsum dolor sit amet, consectetur
adipiscing elit. Suspendisse non nisi ex. Ut non sollicitudin est. Donec
laoreet, risus pretium egestas condimentum, ex eros tempor diam, quis
congue nisi metus in tellus. Proin tempor ac lectus nec elementum.
Maecenas augue turpis, pellentesque sed eros sit amet, tincidunt pretium
nulla. Nunc lacus ligula, ullamcorper a porta eget, fringilla sed orci.
Maecenas eget ultricies risus. Donec varius vehicula diam.

\subsection[Attributes]{Attributes}\label{attributes}

An \emph{attribute} is an annotation (e.g., of a statement or named
{entity}) used to provide supplementary information that does not affect
the semantics{\cprotect\footnote{By \emph{semantics} here we typically
mean any observable behavior apart from runtime performance. There
are, however, cases where an attribute is used such that it will not
affect the behavior of a \emph{correct} program, but might affect the
behavior of a well-formed yet incorrect one (see \emph{Use Cases} ,
below).}} of a well-formed program.

\subsubsection[Description]{Description}\label{description}

Developers are typically aware of information that is not deducible
directly from the source code within a given translation unit. Some of
this information might be useful to certain compilers, say, to inform
diagnostics or optimizations. Customized annotations targeted at
external (e.g., \emph{static-analysis}) tools{\cprotect\footnote{Such
\emph{static analysis} tools include Google's sanitizers, Coverity,
and other proprietary, open-source, and commercial products.}} might
benefit as well.

\paragraph[C++ attribute syntax]{C++ attribute syntax}\label{c++-attribute-syntax}

C++ supports a standard syntax for attributes, introduced via a matching
pair of \texttt{[[} and \texttt{]]}, the simplest of which is a single
attribute represented using a simple identifier, e.g.,
\texttt{attribute\_name}:

\begin{lstlisting}[language=C++]
[[attribute_name]]
\end{lstlisting}
    

A single annotation can consist of zero or more attributes:

\begin{lstlisting}[language=C++]
[[]]           // Permitted in every position where any attribute is allowed.
[[foo, bar]]   // Equivalent to (*{\codeincomments{[[foo]] [[bar]]}}*).
\end{lstlisting}
    

An attribute may have an (optional) argument list consisting of zero or
more syntactically valid (but otherwise arbitrary) comma-separated
arguments:

\begin{lstlisting}[language=C++]
[[attribute_name()]]            // Same at (*{\codeincomments{attribute\_name}}*)
[[deprecated("too ugly")]]      // Single-argument attribute
[[theoretical(1, "two", 3.0)]]  // Multiple-argument attributes
\end{lstlisting}
    

Note that having an incorrect number of arguments or an incompatible
argument type is a compile-time error for all standard attributes; the
behavior for all other attributes, however, is
\emph{implementation-defined} (see \emph{Potential Pitfalls} , below).

Any attribute may be \emph{namespace qualified}{\cprotect\footnote{Although
attributes having a namespace-qualified name
(e.g.~\texttt{[[gnu::const]]}) are only {\emph{conditionally
supported}}, they have historically been supported on major compilers
  including both Clang and GCC.}} (using any arbitrary identifier):

\begin{lstlisting}[language=C++]
[[gnu::const]]  // (GCC-specific) namespace-(*{\codeincomments{gnu}}*)-qualified (*{\codeincomments{const}}*) attribute
[[my::own]]     // (user-specified) namespace-(*{\codeincomments{my}}*)-qualified (*{\codeincomments{own}}*) attribute
\end{lstlisting}
    

\paragraph[C++ attribute placement]{C++ attribute placement}\label{c++-attribute-placement}

Attributes can, in principle, be introduced almost anywhere within the
C++ syntax to annotate almost anything including an \emph{entity},
\emph{statement}, \emph{code block}, and even entire \emph{translation
unit}; however, compilers do not typically support anything resembling
arbitrary placement of attributes{\cprotect\footnote{An attribute can
generally appear syntactically at the beginning of any
\emph{statement}, -- e.g., \texttt{[[attr]]} \texttt{x} \texttt{=}
\texttt{5;} -- or in almost any position relative to a \emph{type} or
\emph{expression} (e.g., \texttt{const} \texttt{int} \texttt{\&} ) but
typically cannot be associated within a named objects outside of a
declaration statement:

\begin{lstlisting}[language=C++, basicstyle={\ttfamily\footnotesize}]
[[]] static [[]] int [[]] a [[]], /*[[]]*/ b [[]];  // declaration statement
\end{lstlisting}


Notice how we have used the empty attribute syntax \texttt{[[]]} above
to probe for statically viable positions for arbitrary attributes on
the host platform (in this case GCC) -- the only invalid one being
immediately following the comma, shown above as \texttt{/*[[]*/}.
Outside of a declaration statement, however, viable attribute
locations are typically far more limited:

\begin{lstlisting}[language=C++, basicstyle={\ttfamily\footnotesize}]
[[]] void [[]] f [[]] ( [[]] int [[]] n [[]] )
[[]] {
[[]] n /**/ *= /**/ sizeof /**/ ( [[]] const [[]] int [[]] & [[]] ) /**/;
[[]] for ([[]] int [[]] i [[]] = /**/ 0 /**/ ;
/**/ i  /**/ < /**/ n /**/ ;
/**/ ++ /**/ i /**/ )
[[]] {
[[]] ;                      // (*{\codeincomments{[[]]}}*) denotes viable attribute location
      /**/ }
  /**/ }                              // (*{\codeincomments{/**/}}*) denotes no attribute is allowed
  \end{lstlisting}
      

  Type expressions -- e.g., the argument to \texttt{sizeof} (above) --
  are a notable exception.}} outside of a \emph{declaration statement}.
In some cases, the syntactic entity to which an unrecognized attribute
appertains might not be clear from its syntactic placement alone.

In the case of a declaration statement, however, the intended entity is
well specified; an attribute placed in front of the statement applies to
every entity being declared, whereas an attribute placed immediately
after the named entity applies to just that one entity:

\begin{lstlisting}[language=C++]
[[noreturn]] void f(), g();    // Both (*{\codeincomments{f()}}*) and (*{\codeincomments{g()}}*) are (*{\codeincomments{noreturn}}*).
void u(), v() [[noreturn]]();  // Only (*{\codeincomments{v()}}*) is (*{\codeincomments{noreturn}}*).
\end{lstlisting}
    

Attributes placed in front of a declaration statement and immediately
behind the name{\cprotect\footnote{There are rare edge cases in which an
entity (e.g., an anonymous union or \texttt{enum}) is ``declared''`
without a name:

\begin{lstlisting}[language=C++, basicstyle={\ttfamily\footnotesize}]
struct S { union [[attribute_name]] { int a; float b }; };
enum [[attribute_name]] { SUCCESS, FAIL } result;
\end{lstlisting}
}} of an individual entity in the same statement are additive (for
that entity), as are attributes associated with an entity across
multiple declaration statements:

\begin{lstlisting}[language=C++]
[[foo]] void f(), g();  // Declares both (*{\codeincomments{f()}}*) and (*{\codeincomments{g()}}*) to be (*{\codeincomments{foo}}*).
void f [[bar]](), g();  // Now (*{\codeincomments{f()}}*) is both (*{\codeincomments{foo}}*) and (*{\codeincomments{bar}}*) while
                        //     (*{\codeincomments{g()}}*) is still just (*{\codeincomments{foo}}*).
\end{lstlisting}
    

Redundant attributes are not themselves necessarily considered a error;
however, redundant standard attributes within the same attribute list
might be:

\begin{lstlisting}[language=C++]
[[attr1]] void f [[attr2]](), f [[attr3]](int);
                                      // (*{\codeincomments{f()}}*)    is (*{\codeincomments{attr1}}*) and (*{\codeincomments{attr2}}*)
                                      // (*{\codeincomments{f(int)}}*) is (*{\codeincomments{attr1}}*) and (*{\codeincomments{attr3}}*)

[[a1]][[a1]] int x [[a1]][[a1]] &;    // (*{\codeincomments{x}}*) (the reference itself) is (*{\codeincomments{a1}}*)

void g [[noreturn]] [[noreturn]]();   // (*{\codeincomments{g()}}*) is (*{\codeincomments{noreturn}}*)

void h [[noreturn, noreturn]]();      // Compile-time error: repeated attribute
\end{lstlisting}
    

In most other cases, an attribute will typically apply to the statement
(including a block statement) that immediately (apart from other
attributes) follows it:

\begin{lstlisting}[language=C++]
[[attr1]];                                // null statement
[[attr2]] return 0;                       // return statement
[[attr3]] for (int i = 0; i < 10; ++i);   // for statement
[[attr4]] [[attr5]] { /* ... */ }         // block statement
\end{lstlisting}
    

The valid positions of any particular attribute, however, will be
constrained by whatever entities to which it applies. That is, an
attribute such as \texttt{noreturn}, that pertains only to functions,
would be valid syntactically but not semantically were it placed so as
to annotate any other kind entity or syntactic element. Misplacement of
standard attributes results in an ill-formed
program{\cprotect\footnote{As of this writing, GCC is lax and merely
warns when it sees the standard \texttt{noreturn} attribute in an
unauthorized syntactic position, whereas Clang (correctly) fails to
compile. Hence ``creative'' use of even a standard attribute might
behave differently depending on particular platform.}}:

\begin{lstlisting}[language=C++]
void [[noreturn]] g() { throw; }  // Error: appertains to type specifier
void i() [[noreturn]] { throw; }  // Error: appertains to type specifier
\end{lstlisting}
    

\paragraph[Common compiler-dependent attributes]{Common compiler-dependent attributes}\label{common-compiler-dependent-attributes}

Prior to C++11, there was no standardized syntax to support conveying
such externally sourced information and so non-portable compiler
intrinsics (such as \texttt{\_\_attribute\_\_((fallthrough))}, which is
GCC-specific syntax) had to be used instead. Given the new standard
syntax, vendors are now able to express these extensions in a more
(syntactically) consistent manner. If an unknown attribute is
encountered during compilation, it is ignored, emitting a (likely
{\cprotect\footnote{Prior to C++17, a conforming implementation was
permitted to treat an unknown attribute as ill-formed and terminate
translation; to our knowledge, however, none of them did.}}) non-fatal
diagnostic.

The table below provides a brief survey of popular compiler-specific
attributes that have migrated to the standard syntax (for additional
compiler-specific attributes, see \emph{Further Reading} , below):

The absolute requirement (as of C++17) to ignore unknown attributes
helps to ensure portability of useful compiler-specific and
external-tool annotations without necessarily having to employ
conditional compilation so long as that attribute is permitted at that
specific syntactic location by all relevant compilers, but see
\emph{Potential Pitfalls} , below.

\subsubsection[Use cases]{Use cases}\label{use-cases}

\paragraph[Eliciting useful compiler diagnostics]{Eliciting useful compiler diagnostics}\label{eliciting-useful-compiler-diagnostics}

Decorating entities with certain attributes can give compilers enough
additional context to provide more detailed diagnostics. For example,
the \texttt{[[gnu::warn\_unused\_result]]} GCC-specific
attribute{\cprotect\footnote{For compatibility with \texttt{g++},
\texttt{clang++} supports \texttt{[[gnu::warn\_unused\_result]]} as
well.}} can be used to inform the compiler (and developers) that a
function's return value should not be ignored{\cprotect\footnote{The
C++17 standard \texttt{[[nodiscard]]} attribute serves the same
purpose and is portable.}}:

\begin{lstlisting}[language=C++]
struct UDPListener
{
    [[gnu::warn_unused_result]]
    int start();
        // Start the UDP listener's background thread (which can fail for a variety of reasons).
        // Return 0 on success, and a non-zero value otherwise.
};
\end{lstlisting}
    

Such annotation of the client-facing declaration can prevent defects
caused by a client's forgetting to inspect the result of a
function:{\cprotect\footnote{Because the
\texttt{gnu::warn\_unused\_result} attribute can in no way affect code
generation, it is explicitly {not} ill-formed for a client to make use
of an unannotated declaration and yet compile its corresponding
definition in the context of an annotated one (or vice versa); such is
not always the case, however, and best practice might argue in favor
of consistency regardless.}}

\begin{lstlisting}[language=C++]
void init()
{
    UDPListener listener;
    listener.start();           // Might fail - return value must be checked!
    listener.trackPort(27015);  // Possible undefined behavior - BAD IDEA!
}
\end{lstlisting}
    

For the code above, \texttt{g++ 10.1} produces a useful warning:

\begin{lstlisting}[language=C++]
warning: ignoring return value of 'bool HttpClient::start()' declared
         with attribute 'warn_unused_result' [-Wunused-result]
\end{lstlisting}
    

\paragraph[Hinting at better optimizations]{Hinting at better optimizations}\label{hinting-at-better-optimizations}

Some annotations can affect compiler optimizations leading to more
efficient or smaller binaries. As an example, decorating the function
`reportError' (below) with the GCC-specific \texttt{[[gnu::cold]]}
attribute (also available on Clang) tells the compiler that the
developer believes the function is unlikely to be called often:

\begin{lstlisting}[language=C++]
[[gnu::cold]] void reportError(const char *message) { /* ... */ }
\end{lstlisting}
    

Not only might the definition of \texttt{reportError} itself be
optimized differently (e.g., for space over speed), any use of this
function will likely be given lower priority during branch prediction:

\begin{lstlisting}[language=C++]
void checkBalance(int balance)
{
    if (balance >= 0) // Likely branch
    {
        // ...
    }
    else // Unlikely branch
    {
        reportError("Negative balance.");
    }
}
\end{lstlisting}
    

Because the (annotated) \texttt{reportError(const char *)} appears on
the else branch of the if statement (above), the compiler knows to
expect that \texttt{balance} is likely {not} to be negative and
therefore optimizes its predictive branching accordingly. Note that even
if we are wrong about our guess, the semantics of every well-formed
program remain the same.

\paragraph[Delineating explicit assumptions in code to achieve better optimizations]{Delineating explicit assumptions in code to achieve better optimizations}\label{delineating-explicit-assumptions-in-code-to-achieve-better-optimizations}

Although the presence (or absence) of attributes typically has no effect
on the behavior of any well-formed program (beside runtime performance),
there are cases where an attribute imparts knowledge to the compiler
which, if incorrect, could alter the intended behavior of the program
(or perhaps mask defective behavior of an incorrect one). As an example
of this more forceful form of attribute, consider the GCC-specific
\texttt{[[gnu::const]]} attribute (also available on Clang). When
applied to a function, this (atypically) powerful (and dangerous, see
below) attribute instructs the compiler to \emph{assume} that the
function is a \emph{pure function} (i.e., that it always returns the
same value for any given set of arguments) and has no \emph{side
effects} (i.e., the globally reachable state{\cprotect\footnote{Absolutely
no external state changes are allowed in a function decorated with
\texttt{[[gnu::const]]}, including global state changes or mutation
via any of the function's arguments (the arguments themselves are
considered local state, and hence can be modified). The (more lenient)
\texttt{[[gnu::pure]]} allows changes to the state of the function's
arguments, but still forbids any global state mutation. For example,
any sort of (even temporary) global memory allocation would be
emphatically disallowed.}} of the program is unaltered by calling this
function):

\begin{lstlisting}[language=C++]
[[gnu::const]] double linearInterpolation(double start, double end, double factor)
{
    return (start * (1.0 - factor)) + (end * factor);
}
\end{lstlisting}
    

The \texttt{vectorLerp} function (below) performs linear interpolation
between two bidimensional vectors. The body of this function comprises
two invocations to the \texttt{linearInterpolation} function (above) --
one per vector component:

\begin{lstlisting}[language=C++]
Vector2D vectorLerp(const Vector2D& start, const Vector2D& end, double factor)
{
    return Vector2D(linearInterpolation(start.x, end.x, factor),
                    linearInterpolation(start.y, end.y, factor));
}
\end{lstlisting}
    

In the (possibly frequent) case where the values of the two components
are the same, the compiler is allowed to invoke
\texttt{linearInterpolation} only once -- even if its body is not
visible in \texttt{vectorLerp}'s translation unit:

\begin{lstlisting}[language=C++]
// Pseudocode (hypothetical compiler transformation)
Vector2D vectorLerp(const Vector2D& start, const Vector2D& end, double factor)
{
    if (start.x == start.y && end.x == end.y)
    {
        const double cache = linearInterpolation(start.x, end.x, factor);
        return Vector2D(cache, cache);
    }

    return Vector2D(linearInterpolation(start.x, end.x, factor),
                    linearInterpolation(start.y, end.y, factor));
}
\end{lstlisting}
    

If the implementation of \texttt{linearInterpolation} fails to live up
to this promise, however, the compiler will not be able to help us and a
runtime defect will be the likely result{\cprotect\footnote{The briefly
adopted -- and then \emph{unadopted} --- contract-checking facility
proposed for C++20 contemplated incorporating a feature similar in
spirit to \texttt{[[gnu::const]]} in which pre-conditions (in addition
to being runtime checked or ignored) could be \emph{assumed}; this
unique use of attribute-like syntax also required that a conforming
implementation could not unilaterally ignore these
precondition-checking attributes as that would make attempting to test
them result in hard (\emph{language}) \emph{undefined behavior}.}}.

\paragraph[Using attributes to control external static analysis]{Using attributes to control external static analysis}\label{using-attributes-to-control-external-static-analysis}

Since unknown attributes do not prevent a well-formed program from
compiling, external static-analysis tools can define their own custom
attributes that, while having absolutely no effect on program semantics,
can nonetheless be used to embed detailed information to influence or
control those tools. As an example, consider the
\texttt{[[gsl::suppress(/* rules */)]]} Microsoft-specific attribute,
which can be used to suppress unwanted warnings from static analysis
tools that verify \emph{Guidelines Support
Library}{\cprotect\footnote{\emph{Guidelines Support Library} is an
Open-source library, developed by Microsoft, that implements functions
and types suggested for use by the ``C++ Core Guidelines''; see
https://github.com/Microsoft/GSL.}} rules. In particular, consider GSL
C26481 (Bounds rule \#1){\cprotect\footnote{https://docs.microsoft.com/en-us/cpp/code-quality/c26481?view=vs-2019}},
which forbids any pointer arithmetic, instead suggesting that users rely
on the \texttt{gsl::span} type{\cprotect\footnote{\texttt{gsl::span} is
a lightweight reference type that observes a contiguous sequence (or
subsequence) of objects of homogeneous type. Useful in interfaces (as
an alternative to both pointer/size or iterator pair arguments), and
in implementations as an alternative to (raw) pointer arithmetic.
Since C++20, the standard \texttt{std::span} template can be used
instead.}}:

\begin{lstlisting}[language=C++]
void hereticalFunction()
{
    int array[] = {0, 1, 2, 3, 4, 5};

    printElements(array, array + 6);  // Elicits warning C26481
}
\end{lstlisting}
    

Any block of code for which validating rule C26481 is considered
undesirable can be decorated with the
\texttt{[[gsl::suppress(bounds.1)]]} attribute:

\begin{lstlisting}[language=C++]
void hereticalFunction()
{
    int array[] = {0, 1, 2, 3, 4, 5};

    [[gsl::suppress(bounds.1)]]           // Suppress GSL C26481
    {
        printElements(array, array + 6);  // Silence!
    }
}
\end{lstlisting}
    

\paragraph[Creating new attributes to express semantic properties]{Creating new attributes to express semantic properties}\label{creating-new-attributes-to-express-semantic-properties}

Other uses of attributes for static analysis include statements of
properties that cannot otherwise be deduced within a single translation
unit. Consider a function, \texttt{f} that takes two pointers,
\texttt{p1} and \texttt{p2} such that calling the function where
\texttt{p1} does not refer to an object in the same contiguous block of
memory as \texttt{p2} is considered a \emph{precondition violation} (as
the two addresses are compared internally). Accordingly, we might
annotate the function \texttt{f} with our own home-grown attribute
\texttt{in\_same\_block(p1, p2)}:

\begin{lstlisting}[language=C++]
// lib.h

[[in_same_block(p1, p2)]]
int f(double *p1, double *p2);
\end{lstlisting}
    

Now imagine that some client calls this function from some other
translation unit but passes in two unrelated pointers:

\begin{lstlisting}[language=C++]
// client.cpp
#include <lib.h>

void client()
{
    double a[10], b[10];
    f(a, b);  // Oops, this is runtime UB
}
\end{lstlisting}
    

But, because our static-analysis tool knows from the
\texttt{in\_same\_block} attribute that \texttt{a} and \texttt{b} must
point into the same contiguous block, it has enough information to
report, at compile time, what might otherwise have resulted in
\emph{undefined behavior} at runtime.

\subsubsection[Potential Pitfalls]{Potential Pitfalls}\label{potential-pitfalls}

\paragraph[Unrecognized attributes have implementation-defined behavior]{Unrecognized attributes have implementation-defined behavior}\label{unrecognized-attributes-have-implementation-defined-behavior}

Although standard attributes work well and are portable across all
platforms, the behavior of compiler-specific and user-specified
attributes is entirely implementation-defined, with unrecognized
attributes typically resulting in compiler warnings.

Such warnings can typically be disabled (e.g., on GCC using
\texttt{-Wno-attributes}) but then misspellings in even standard
attributes will go unreported{\cprotect\footnote{Ideally there would be
a way to silently ignore a specific attribute on a case-by-case bases
on every relevant platform.}}.

\paragraph[Not every syntactic location is viable for an attribute]{Not every syntactic location is viable for an attribute}\label{not-every-syntactic-location-is-viable-for-an-attribute}

There is a fairly limited subset of syntactic location for which most
conforming implementation are likely to tolerate the double-bracketed
attribute-list syntax. The ubiquitously available locations include the
beginning of any statement, immediately following a named entity in a
declaration statement, and (typically) arbitrary positions relative to a
\emph{type expression} but, beyond that, caveat emptor.

\subsubsection[See Also]{See Also}\label{see-also}

See sections \texttt{[[noreturn]]} and \texttt{[[carries\_dependency]]}
for a detailed description of the two standard attributes introduced in
C++11, and the \texttt{[[deprecated]]} section for one introduced in
C++14.

\subsubsection[Further Reading]{Further Reading}\label{further-reading}

https://gcc.gnu.org/onlinedocs/gcc/Common-Function-Attributes.html\#Common-Function-Attributes

\newpage

\subsection[Binary Literals]{Binary Literals}\label{binary-literals}

\textbf{Integer literals} representing their values in base 2.

\subsubsection[Description]{Description}\label{description}

A \emph{binary literal} (e.g., \texttt{0b1010}) -- much like a
hexadecimal literal (e.g., \texttt{0xA}) or an octal literal (e.g.,
\texttt{012}) -- is a kind of \emph{integer literal} (in this case,
having the \emph{decimal} value \texttt{10}). A binary literal consists
of a \texttt{0b} (or \texttt{0B}) prefix followed by a non-empty
sequence of binary digits (\texttt{0} or \texttt{1}):
{\cprotect\footnote{Prior to being introduced in C++14, GCC supported
binary literals (with the same syntax as the standard feature) as a
non-conforming extension since version 4.3; for more details, see
\textbf{gnu19}, section xyz, pp.~123-456.}}

\begin{lstlisting}[language=C++]
int i        = 0b11110000; // Equivalent to (*{\codeincomments{240}}*), (*{\codeincomments{0360}}*), or (*{\codeincomments{0xF0}}*)
const int ci = 0B11110000; // same value as above.
\end{lstlisting}
    

The first digit after the \texttt{0b} prefix is the most significant
one:

\begin{lstlisting}[language=C++]
void f1()
{
    assert( 0 == 0b0);      // 0*2^0
    assert( 1 == 0b1);      // 1*2^0
    assert( 2 == 0b10);     // 1*2^1 + 0*2^0
    assert( 3 == 0b11);     // 1*2^1 + 1*2^0
    assert( 4 == 0b100);    // 1*2^2 + 0*2^1 + 0*2^0
    assert( 5 == 0b101);    // 1*2^2 + 0*2^1 + 1*2^0
    // ...
    assert(42 == 0b11010);  // 1*2^5 + 0*2^4 + 1*2^3 + 1*2^5 + 0*2^4 + 1*2^3
}
\end{lstlisting}
    

Leading zeros -- as with octal and hexadecimal (but not decimal)
literals -- are ignored, but can be added for readability:

\begin{lstlisting}[language=C++]
void f2()
{
    assert(  0 == 0b00000000);
    assert(  1 == 0b00000001);
    assert(  2 == 0b00000010);
    assert(  4 == 0b00000100);
    assert(  8 == 0b00001000);
    assert(256 == 0b10000000);
\end{lstlisting}
    

\}

The type of a binary literal{\cprotect\footnote{Its \emph{value
category} is \emph{prvalue} like every other integer literal.}} is by
default a (non-negative) \texttt{int} unless that value cannot fit in an
\texttt{int}, in which case its type is the first type in the sequence
\{\texttt{unsigned int}, \texttt{long}, \texttt{unsigned long},
\texttt{long long}, \texttt{unsigned long long}\}{\cprotect\footnote{This
same type list applies for both \texttt{octal} and \texttt{hex}
literals but not for decimal literals, which, if initially
\texttt{signed}, skip over any \texttt{unsigned} types, and vice versa
(see below).}} in which it will fit, or else the program is
\emph{ill-formed, diagnostic required}:{\cprotect\footnote{Purely for
convenience of exposition, we make have employed the C++11
\texttt{auto} feature to conveniently capture the type implied by the
literal itself; for more information, see \texttt{auto}.}}

\begin{lstlisting}[language=C++]
// Platform 1 - sizeof(int): 4;  sizeof(long): 4;  sizeof(long long) 8;
auto i32  = 0b0111...[ 24 1-bits]...1111;  // (*{\codeincomments{i32}}*)  is (*{\codeincomments{int}}*)
auto u32  = 0b1000...[ 24 0-bits]...0000;  // (*{\codeincomments{u32}}*)  is (*{\codeincomments{unsigned int}}*)
auto i64  = 0b0111...[ 56 1-bits]...1111;  // (*{\codeincomments{i64}}*)  is (*{\codeincomments{long long}}*)
auto u64  = 0b1000...[ 56 0-bits]...0000;  // (*{\codeincomments{u64}}*)  is (*{\codeincomments{unsigned long long}}*)
auto i128 = 0b0111...[120 1-bits]...1111;  // (*{\codeincomments{i128}}*) is ill-formed/DR
auto u128 = 0b1000...[120 0-bits]...0000;  // (*{\codeincomments{u128}}*) is ill-formed/DR

// Platform 2 - sizeof(int): 4;  sizeof(long): 8;  sizeof(long long): 16;
auto i32  = 0b0111...[ 24 1-bits]...1111;  // (*{\codeincomments{i32}}*)  is (*{\codeincomments{int}}*)
auto u32  = 0b1000...[ 24 0-bits]...0000;  // (*{\codeincomments{u32}}*)  is (*{\codeincomments{unsigned int}}*)
auto i64  = 0b0111...[ 56 1-bits]...1111;  // (*{\codeincomments{i64}}*)  is (*{\codeincomments{long}}*)
auto u64  = 0b1000...[ 56 0-bits]...0000;  // (*{\codeincomments{u64}}*)  is (*{\codeincomments{unsigned long}}*)
auto i128 = 0b0111...[120 1-bits]...1111;  // (*{\codeincomments{i128}}*) is (*{\codeincomments{long long}}*)
auto u128 = 0b1000...[120 0-bits]...0000;  // (*{\codeincomments{u128}}*) is (*{\codeincomments{unsigned long long}}*)
\end{lstlisting}
    

Separately, the precise ``starting'' type of a binary literal, like any
other literal, can be controlled explicitly using the common
integer-literal suffixes \{\texttt{u}, \texttt{l}, \texttt{ul},
\texttt{ll}, \texttt{ull}\} in either lower- or uppercase:

\begin{lstlisting}[language=C++]
auto i   = 0b101;        // type: (*{\codeincomments{int}}*)                  value: 5
auto u   = 0b1010U;      // type: (*{\codeincomments{unsigned int}}*)         value: 10
auto l   = 0b1111L;      // type: (*{\codeincomments{long}}*)                 value: 15
auto ul  = 0b10100UL;    // type: (*{\codeincomments{unsigned long}}*)        value: 20
auto ll  = 0b11000LL;    // type: (*{\codeincomments{long long}}*)            value: 25
auto ull = 0b110101ULL;  // type: (*{\codeincomments{unsigned long long}}*)   value: 30
\end{lstlisting}
    

Finally, note that affixing a minus sign (\texttt{-}) to a binary
literal (e.g., \texttt{-b1010}) -- just like any other integer literal
(e.g., \texttt{-10}, \texttt{-012}, or \texttt{-0xa}) is parsed as a
non-negative value first, after which a unary minus is applied:

\begin{lstlisting}[language=C++]
void f()
{
    assert(sizeof(int) == 4);           // True on virtually all machines today.
    assert(-10 == -0b1010);             // As if: (*{\codeincomments{assert(0 - 10 == 0 - 0b1010);}}*)
    assert(0x7fffffff != -0x7fffffff);  // Each literal is an (*{\codeincomments{signed int}}*).
    assert(0x80000000 == -0x80000000);  // Each literal is an (*{\codeincomments{unsigned int}}*).
}
\end{lstlisting}
    

\subsubsection[Use Cases]{Use Cases}\label{use-cases}

\paragraph[Bit masking and bitwise operations]{Bit masking and bitwise operations}\label{bit-masking-and-bitwise-operations}

Prior to the introduction of binary literals, hexadecimal (and before
that octal) literals were commonly used to represent bit masks (or
specific bit constants) in source code. As an example, consider a
function that returns the least significant 4 bits of a given
\texttt{unsigned int} value:

\begin{lstlisting}[language=C++]
unsigned int lastFourBits(unsigned int value)
{
    return value & 0xFu;
}
\end{lstlisting}
    

The correctness of the ``bitwise and'' operation above might not be
immediately obvious to a developer who is not experienced with
hexadecimal literals. In contrast, use of a binary literal more directly
states our intent to mask all but the four least-significant bits of the
input:

\begin{lstlisting}[language=C++]
unsigned int lastFourBits(unsigned int value)
{
    return value & 0b1111u;  // The (*{\codeincomments{u}}*) literal suffix here is entirely optional.
}
\end{lstlisting}
    

Similarly, other bitwise operations such as setting or getting
individual bits might benefit from the use of binary literals. For
instance, consider a set of flags used to represent the state of an
avatar in a game:

\begin{lstlisting}[language=C++]
struct AvatarStateFlags
{
    enum Enum
    {
        e_ON_GROUND    = 0b0001,
        e_INVULNERABLE = 0b0010,
        e_INVISIBLE    = 0b0100,
        e_SWIMMING     = 0b1000,
    };
};

class Avatar
{
    unsigned char d_state;  // Power set of possible state flags

public:
    bool isOnGround() const
    {
        return d_flags & AvatarStateFlags::e_ON_GROUND;
    }

    // ...
};
\end{lstlisting}
    

\paragraph[Replicating constant binary data]{Replicating constant binary data}\label{replicating-constant-binary-data}

Especially in the context of \emph{embedded development} or emulation,
it is not uncommon for a programmer to write code that needs to deal
with specific ``magic'' constants (e.g.~provided as part of the
specification of a CPU or virtual machine) that must be incorporated in
the program's source code. Depending on the original format of such
constants, a binary representation can be the most convenient or most
easily understandable one.

As an example, consider a function decoding instructions of a virtual
machine whose opcodes are specified in binary format:

\begin{lstlisting}[language=C++]
#include <cstdint> // (*{\codeincomments{std::uint8\_t}}*)

void VirtualMachine::decodeInstruction(std::uint8_t instruction)
{
    switch(instruction)
    {
        case 0b00000000u:  // No-op
            break;

        case 0b00000001u:  // (*{\codeincomments{add(register0, register1)}}*)
            d_register0 += d_register1;
            break;

        case 0b00000010u:  // (*{\codeincomments{jmp(register0)}}*)
            jumpTo(d_register0);
            break;

        // ...
    }
}
\end{lstlisting}
    

Replicating the same binary constant specified as part of the CPU (or
virtual machine)'s manual directly in the source avoids the need to
mentally convert such constant data to and from, say, a hexadecimal
number.

\subsubsection[Further reading]{Further reading}\label{further-reading}

\newpage

\subsection[\tt{auto}]{{\SubsecCode auto}}\label{auto}

Small amount of intro text here. The \texttt{auto} keyword was
repurposed{\cprotect\footnote{Footnote. \texttt{inline} code in
footnote. Lorem ipsum dolor sit amet, consectetur adipiscing elit.}}
in C++11 to act as a \emph{placeholder} type. When used instead of a
type as part of a variable declaration, the {compiler} will use the same
rules as {template argument deduction} to deduce the type of the
variable.

\subsubsection[Description]{Description}\label{description}

Description of the feature here. Lorem ipsum dolor sit amet, consectetur
adipiscing elit. Suspendisse non nisi ex. Ut non sollicitudin est. Donec
laoreet, risus pretium egestas condimentum, ex eros tempor diam, quis
congue nisi metus in tellus. Proin tempor ac lectus nec elementum.
Maecenas augue turpis, pellentesque sed eros sit amet, tincidunt pretium
nulla. Nunc lacus ligula, ullamcorper a porta eget, fringilla sed orci.
Maecenas eget ultricies risus. Donec varius vehicula diam.

\paragraph[Automatic type deduction rules]{Automatic type deduction rules}\label{automatic-type-deduction-rules}

Sub-section that describes a particular aspect of the feature in
abstract terms. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Suspendisse non nisi ex. Ut non sollicitudin est. Donec laoreet, risus
pretium egestas condimentum, ex eros tempor diam, quis congue nisi metus
in tellus.

\Begin{leftbar}

Proin tempor ac lectus nec elementum. Maecenas augue turpis,
pellentesque sed eros sit amet, tincidunt pretium nulla. Nunc lacus
ligula, ullamcorper a porta eget, fringilla sed orci. Maecenas eget
ultricies risus. Donec varius vehicula diam.

\begin{lstlisting}[language=C++]
int recordCount;
while (cursor.next()) { ++recordCount; }
    //                  ^~~~~~~~~~~~~
    //                Undefined behavior.
\end{lstlisting}
    

\End{leftbar}

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non
nisi ex. Ut non sollicitudin est. Donec laoreet, risus pretium egestas
condimentum, ex eros tempor diam, quis congue nisi metus in tellus.
Proin tempor ac lectus nec elementum. Maecenas augue turpis,
pellentesque sed eros sit amet, tincidunt pretium nulla. Nunc lacus
ligula, ullamcorper a porta eget, fringilla sed orci. Maecenas eget
ultricies risus. Donec varius vehicula diam.

\begin{lstlisting}[language=C++]
auto recordCount; // Compile-time error.
while (cursor.next()) { ++recordCount; }
\end{lstlisting}
    

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non
nisi ex. Ut non sollicitudin est.

\begin{itemize}
\item{Donec \texttt{laoreet}, risus pretium egestas condimentum, ex eros tempor diam, quis congue nisi metus in tellus.}
\item{Proin tempor ac lectus nec elementum. Maecenas augue turpis.}
\item{Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non nisi ex. Ut non sollicitudin est.}
\end{itemize}

\subsubsection[Use Cases]{Use Cases}\label{use-cases}

Small amount of intro text can optionally be here. Lorem ipsum dolor sit
amet, consectetur adipiscing elit. Suspendisse non nisi ex. Ut non
sollicitudin est. Donec laoreet, risus pretium egestas condimentum, ex
eros tempor diam.

\paragraph[Avoiding type repetition]{Avoiding type repetition}\label{avoiding-type-repetition}

Sub-section that describes a particular aspect of the feature in
concreteterms. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Suspendisse non nisi ex. Ut non sollicitudin est. Donec laoreet, risus
pretium egestas condimentum, ex eros tempor diam, quis congue nisi metus
in tellus. Proin tempor ac lectus nec elementum{\cprotect\footnote{The
relative position of \texttt{decltype(range.sort())} in the signature
of \texttt{sortRangeImpl} is not significant, as long as it is visible
to the compiler during template substitution. This particular example
(shown in the main text) makes use of a function parameter that is
defaulted to \texttt{nullptr}. Alternatives involving a trailing
return type or a default template argument are also viable:}}.

\begin{lstlisting}[language=C++]
int x = 10;
auto y = x;
\end{lstlisting}
    

Maecenas augue turpis, pellentesque sed eros sit amet, tincidunt pretium
nulla. Nunc lacus ligula, ullamcorper a porta eget, fringilla sed orci.
Maecenas eget ultricies risus. Donec varius vehicula
diam.{\cprotect\footnote{For more information on foobar, see
\textbf{lakos20}, section 1.2.3, pp 208-234, especially Figure 1-35,
p.~215.}}

\subsubsection[Potential Pitfalls]{Potential Pitfalls}\label{potential-pitfalls}

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non
nisi ex. Ut non sollicitudin est. Donec laoreet, risus pretium egestas
condimentum, ex eros tempor diam, quis congue nisi metus in tellus.
Proin tempor ac lectus nec elementum. Maecenas augue turpis,
pellentesque sed eros sit amet, tincidunt pretium nulla. Nunc lacus
ligula, ullamcorper a porta eget, fringilla sed orci. Maecenas eget
ultricies risus. Donec varius vehicula diam.{\cprotect\footnote{\textbf{lakos20},
section 0.5, pp 34-42

\begin{lstlisting}[language=C++, basicstyle={\ttfamily\footnotesize}]
template <typename Range>
auto sortRangeImpl(Range& range, int) -> decltype(range.sort(), void());
// The comma operator is used to force the return type to (*{\codeincomments{void}}*),
      // regardless of the return type of (*{\codeincomments{range.sort()}}*).

  template <typename Range, typename = decltype(std::declval<Range&>().sort()>
  auto sortRangeImpl(Range& range, int);
      // (*{\codeincomments{std::declval}}*) is used to generate a reference to (*{\codeincomments{Range}}*) that can be
      // used in an unevaluated expression
  \end{lstlisting}
      }}

Unordered list:

\begin{itemize}
\item{Constructor \textbf{(0)} will be invoked;}
\item{On line \textbf{(1)}, execution will be delegated to constructor \textbf{(2)};}
\item{The body of constructor \textbf{(2)} will be executed;}
\item{The body of constructor \textbf{(1)} will be executed.}
\end{itemize}

Nested unordered list:

\begin{itemize}
\item{Foo\begin{itemize}
\item{Bar}
\item{Baz}
\end{itemize}
}
\end{itemize}

In the example above, \texttt{localhost} will be initialized in the
following manner{\cprotect\footnote{Footnote. Lorem ipsum dolor sit
amet, consectetur adipiscing elit. Block code in footnote:

\begin{lstlisting}[language=C++, basicstyle={\ttfamily\footnotesize}]
abcdef
inline
virtual
\end{lstlisting}
}}:

\begin{enumerate}
\item{Constructor \textbf{(0)} will be invoked;}
\item{On line \textbf{(1)}, execution will be delegated to constructor \textbf{(2)};}
\item{The body of constructor \textbf{(2)} will be executed;}
\item{The body of constructor \textbf{(1)} will be executed.}
\end{enumerate}

Nested ordered list:

\begin{enumerate}
\item{Foo\begin{enumerate}
\item{Bar}
\item{Baz}
\end{enumerate}
}
\end{enumerate}

This feature, when used in conjunction with \emph{explicit instantiation
definitions}, can significantly improve compilation times for a set of
translation units that often instantiate common templates:

\noindent\begin{minipage}{.45\textwidth}
\begin{lstlisting}[language=C++, caption=code 1,frame=tb]{Name}
void code()
{

}
\end{lstlisting}
\end{minipage}\hfill
\begin{minipage}{.45\textwidth}
\begin{lstlisting}[language=C++, caption=code 2,frame=tb]{Name}
void code()
{

}
\end{lstlisting}
\end{minipage}

Attempting to compile \texttt{main.cpp} on its own will produce a linker
error along the lines of:

\begin{lstlisting}[language=C++]
undefined reference to (*{\codeincomments{Vector2D<float>::normalize()}}*)
\end{lstlisting}
    

The linker error is expected as the inclusion of \texttt{vector2d.h}
suppresses implicit instantiation of \texttt{Vector2D<float>}. Note that
\texttt{iVec} is not affected, as the \texttt{Vector2D<int>}
instantiation does take place.

\paragraph[Readability concerns]{Readability concerns}\label{readability-concerns}

Using \texttt{auto} can hide all information regarding a variable's
type, increasing cognitive overhead for the readers. In conjunction with
unclear variable naming, disproportionate usage of \texttt{auto} can
make code unreadable. E.g.

\begin{lstlisting}[language=C++]
int main(int argc, char** argv)
{
    const auto args0 = parseArgs(argc, argv);
        // The behavior of (*{\codeincomments{parseArgs}}*) is unclear.

    const std::vector<std::string> args1 = parseArgs(argc, argv);
        // It is obvious what (*{\codeincomments{parseArgs}}*) does.
}
\end{lstlisting}
    

While it may be necessary to read \texttt{parseArgs}'s contract at least
once to fully understand its behavior, an explicit type in the usage
site helps readers understand its purpose CWG1655.

\begin{lstlisting}[language=C++]
testing column width for code
123456789A123456789B123456789C123456789D123456789E123456789F123456789G123456789H
this is 80 characters
\end{lstlisting}
    

C++11 introduces three new types of string literal, which provide strong
guarantees on the encoding of character sequences:

\Begin{center}
\Begin{tabular}{c|c|c}
\thickhline

\textbf{Encoding} & \textbf{Example} & \textbf{Character Type} \\ \hline
UTF-8 & \texttt{u8"Hello"} & \texttt{char} \\ \hline UTF-16 &
\texttt{u"Hello"} & \texttt{char16\_t} \\ \hline UTF-32 &
\texttt{U"Hello"} & \texttt{char32\_t} \\

\thickhline
\End{tabular}
\End{center}

Raw string literals enable developers to embed strings in a program's
source code without requiring to escape special character sequences and
preserving whitespace, with the goal of enhancing readability. The
syntax of the feature is easily understood through an example showing a
\emph{regular expression} embedded in source code:

\begin{lstlisting}[language=C++]
//            delimiter and round parenthesis
//                    v~~~             v~~~
const char* regex = R"xxx([0-9]\(".*"\))xxx";
//                  ^     ^~~~~~~~~~~~~
//                  |      string contents
//                  |
//                  | uppercase R
\end{lstlisting}
    

\paragraph[Lack of interface restrictions]{Lack of interface restrictions}\label{lack-of-interface-restrictions}

In generic code, even if concrete types are dependent on template
arguments, \texttt{auto} is needlessly lax. It is always possible to
identify a \emph{concept}{\cprotect\footnote{\authorsnote We will have
some footnotes that are authors' notes.}} which provides information
regarding operations allowed on a type to the reader {[}see @AGE86, pp.
33-35{]}, albeit specifying it in code is
cumbersome.{\cprotect\footnote{Unless explicitly specified, the
\emph{underlying type} of non-strongly typed enumerations is
\emph{implementation-defined}.}}

In some particular cases, concepts also carry important semantic meaning
that could be lost by using \texttt{auto}. E.g.

\begin{lstlisting}[language=C++]
Packet* PacketCache::findFirstCorruptPacket() const
{
    auto it = std::begin(this->d_packet);

    static_assert(IsRandomAccessIterator<decltype(it)>::value,
                  "(*{\codeincomments{it}}*) must be a random access iterator.");

    return it == std::end(this->d_employees) ? nullptr
                                             : &*it;
}
\end{lstlisting}
    

\paragraph[List initialization]{List initialization}\label{list-initialization}

The meaning of \texttt{auto} completely changes when using \emph{list
initialization}: \texttt{std::initializer\_list} is always deduced.

\begin{lstlisting}[language=C++]
auto example0 = 0; // Copy initialiation, deduced as (*{\codeincomments{int}}*).
auto example1(0);  // Direct initialiation, deduced as (*{\codeincomments{int}}*).
auto example2{0};  // List initialiation, deduced as (*{\codeincomments{std::initializer\_list<int>}}*).
\end{lstlisting}
    

This surprising behavior contradicts the idea of ``uniform
initialization'' and has been widely regarded as a mistake and rectified
in C++14.

The \texttt{decltype} keyword allows inspecting the declared type of an
entity or the type and value category of an expression. What
\texttt{decltype} yields as the result depends on the provided argument:

\begin{itemize}
\item{With an unparenthesized \emph{id-expression}\cprotect\footnote{Footnote. Lorem ipsum dolor sit amet, consectetur adipiscing elit.} or unparenthesized \emph{class member access expression}\cprotect\footnote{Footnote. Lorem ipsum dolor sit amet, consectetur adipiscing elit.}, \texttt{decltype} yields the \emph{``declared type''}\cprotect\footnote{Footnote. Lorem ipsum dolor sit amet, consectetur adipiscing elit.} of the given expression.}
\item{With any other expression of type \texttt{T}, \texttt{decltype} yields:\begin{itemize}
\item{\texttt{T\&\&} if the value category of the expression is \emph{xvalue};}
\item{\texttt{T\&} if the value category of the expression is \emph{lvalue};}
\item{\texttt{T} if the value category of the expression is \emph{prvalue}.}
\end{itemize}
}
\end{itemize}

Similarly to \texttt{sizeof}, the provided expression is not evaluated.

\newpage

\cleardoublepage

\chapter*{Glossary}\label{Glossary}

\gloss{word to be defined}{Definition text follows. At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.}

\gloss{word to be defined}{Definition text follows. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat.}

\gloss{word to be defined}{Definition text follows.Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.  }

\gloss{word to be defined}{Definition text follows. At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. }

\cleardoublepage
\bibliographystyle{ieeetr-hacked}

\bibliography{samplebib}
\nocite{*}

\cleardoublepage
\include{index}

% 
% %
% 
% 
\end{document}

