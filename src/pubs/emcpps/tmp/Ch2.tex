
\chapter[Conditionally Safe Features]{Conditionally Safe Features}\label{ch-conditional}

%%%%%%%%%%%%%%% C++11
\stepcounter{cppxx}
\addtocontents{toc}{\protect\renewcommand*\protect\cftsecindent{1.25em}}
\cftaddnumtitleline{toc}{section}{\thechapter.\thecppxx}{C++11}{\thepage}
% to add to the TOC at the section level
\renewcommand{\cppxx}{C++11}

\newpage
\addtocontents{toc}{\protect\renewcommand*\protect\cftsecindent{4.5em}}
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
% \section[{\tt auto}]{{\SecCode auto}\checkoddpage\Cbox}\label{auto-feature}
%\input{auto-placeholder}
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
 \section[{\tt auto}]{{\SecCode auto}}\label{auto-feature}
\input{auto-placeholder}

\newpage
 \section[Braced Initialization]{Braced Initialization}\label{bracedinit}
\input{bracedinit-placeholder}

\newpage
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
%\section[Rvalue References]{Rvalue References\checkoddpage\Cbox}\label{Rvalue-References}
\section[Rvalue References]{Rvalue References}\label{Rvalue-References}
\input{rvalueref-placeholder}

\newpage
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
%\section[Default Member Initializers]{Default Member Initializers\checkoddpage\Cbox}\label{Default-Member-Initializers}
\section[Default Member Initializers]{Default Member Initializers}\label{Default-Member-Initializers}
\input{defmemberinit-placeholder}

\newpage
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
%\section[{\ttfamily constexpr} Variables]{{\SecCode constexpr} Variables\checkoddpage\Cbox}\label{constexprvar}
\section[{\ttfamily constexpr} Variables]{{\SecCode constexpr} Variables}\label{constexprvar}
\input{constexprvar-placeholder}

\newpage
\section[{\ttfamily constexpr} Functions]{{\SecCode constexpr} Functions}\label{constexprfunc}
\input{constexprfunc-placeholder}

\newpage
\section[Variadic Templates]{Variadic Templates}\label{variadictemplate}
\input{variadictemplate-placeholder}

\newpage
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
%\section[Lambda Expressions]{Lambda Expressions\sectionmark{Lambdas}\checkoddpage\Cbox}\label{lambda}
\section[Lambdas]{Lambda Expressions\sectionmark{Lambdas}}\label{lambda}
\input{lambda-placeholder}

\newpage
\section[Forwarding References]{Forwarding References\sectionmark{Forwarding References}}\label{forwardingref}
\input{forwardingref-placeholder}

\newpage
\section[{\tt noexcept}]{{\SecCode noexcept}}\label{noexcept}
\input{noexcept-placeholder}


%%%%%%%%%%%%%%% C++14
\stepcounter{cppxx}
\addtocontents{toc}{\protect\renewcommand*\protect\cftsecindent{1.25em}}
\cftaddnumtitleline{toc}{section}{\thechapter.\thecppxx}{C++14}{\thepage}
% to add to the TOC at the section level
\renewcommand{\cppxx}{C++14}


\newpage
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
%\section[Lambda Expressions]{Lambda Expressions\sectionmark{Lambdas}\checkoddpage\Cbox}\label{lambda}
\section[Generic Lambdas]{Generic Lambdas\sectionmark{Generic Lambdas}}\label{genericlambda}
\input{genericlambda-placeholder}


\newpage
\addtocontents{toc}{\protect\renewcommand*\protect\cftsecindent{4.5em}}
%\cftaddtitleline{toc}{section}{\protect\hspace*{-5em}\framebox{\sffamily\itshape\cppxx}\vspace*{-3ex}}{}
%\section[TOC Version of Title]{Longer Wordier Title for Test\sectionmark{RH Version of Title}\checkoddpage\Cbox}\label{justfortest}\sectionmark{RH Version of Title}
\section[Short Title]{Longer Wordier Title for Test\sectionmark{RH Version of Title}}\label{justfortest}\sectionmark{RH Version of Title}
\renewcommand{\cppxx}{C++14}

Section text; just to test where/how the C++ change (from C++11 to C++14) in the RH must be placed in relation to sectioning commands such that the correct one displays

\begin{table}[h!] 
\begin{center}
\begin{threeparttable}
\caption{Testing Table Numbering}\label{test-table3}\vspace{1.5ex} 
{\small \begin{tabular}{c|c|c}\thickhline 
\rowcolor[gray]{.9}   {\sffamily\bfseries Compiler} & {\sffamily\bfseries Compiler-Specific} &
{\sffamily\bfseries Standard-Conforming} \\ \hline 
GCC &\texttt{\_\_attribute\_\_((pure))} & \texttt{[[gnu::pure]]} \\ \hline
Clang & \texttt{\_\_attribute\_\_((no\_sanitize))} &\texttt{[[clang::no\_sanitize]]} \\ \hline 
MSVC & \texttt{declspec(deprecated)} & \texttt{[[deprecated]]} \\ \thickhline
\end{tabular}
}
\end{threeparttable} 
\end{center}
\end{table}

Donec mattis, ex a ornare auctor, tortor felis pulvinar odio, eu mollis tortor orci id ligula. Vestibulum dignissim magna vitae lectus cursus, ac sollicitudin mi pulvinar. Praesent vulputate lorem lectus, eu pulvinar mi finibus eu. Donec sit amet massa massa. Sed eget molestie quam. Praesent iaculis diam ut nunc condimentum auctor. Morbi porttitor varius ante vel venenatis. Integer ut porttitor elit, id lacinia turpis. Integer id iaculis ante, placerat ornare tortor. Sed et consectetur est, sit amet rhoncus turpis.

\begin{table}[h!] 
\begin{center}
\begin{threeparttable}
\caption{Testing Table Numbering}\label{test-table4}\vspace{1.5ex} 
{\small \begin{tabular}{c|c|c}\thickhline 
\rowcolor[gray]{.9}   {\sffamily\bfseries Compiler} & {\sffamily\bfseries Compiler-Specific} &
{\sffamily\bfseries Standard-Conforming} \\ \hline 
GCC &\texttt{\_\_attribute\_\_((pure))} & \texttt{[[gnu::pure]]} \\ \hline
Clang & \texttt{\_\_attribute\_\_((no\_sanitize))} &\texttt{[[clang::no\_sanitize]]} \\ \hline 
MSVC & \texttt{declspec(deprecated)} & \texttt{[[deprecated]]} \\ \thickhline
\end{tabular}
}
\end{threeparttable} 
\end{center}
\end{table}

This feature, when used in conjunction with \emph{explicit instantiation
definitions}, can significantly improve compilation times for a set of
translation units that often instantiate common templates:

\noindent\begin{minipage}{.45\textwidth}
\begin{lstlisting}[language=C++, caption=code 1,frame=tb]{Name}
void code()
{

}
\end{lstlisting}
\end{minipage}\hfill
\begin{minipage}{.45\textwidth}
\begin{lstlisting}[language=C++, caption=code 2,frame=tb]{Name}
void code()
{

}
\end{lstlisting}
\end{minipage}

Nullam nibh tortor, finibus ut lectus eu, convallis vehicula libero. Cras maximus ligula nisl, a eleifend mauris venenatis nec. Suspendisse potenti. Maecenas viverra laoreet mauris ut laoreet. Donec non felis risus. Ut faucibus, justo id luctus lobortis, nisi lacus pharetra est, id pretium arcu ligula ac magna. Morbi a nisl sit amet lacus vehicula tempor nec sit amet nibh. 

\noindent\begin{minipage}{.45\textwidth}
\begin{lstlisting}[language=C++, caption=code 1 with a long and wrapping title,frame=tb]{Name}
void code()
{

}
\end{lstlisting}
\end{minipage}\hfill
\begin{minipage}{.45\textwidth}
\begin{lstlisting}[language=C++, caption=code 2 with a long and wrapping title,frame=tb]{Name}
void code()
{

}
\end{lstlisting}
\end{minipage}

Pellentesque id lorem ac sem ullamcorper semper. Donec imperdiet sapien in nisi faucibus, et tempus lacus hendrerit. Nulla laoreet risus eu tortor ultrices, sed bibendum neque sodales. Ut faucibus ipsum id convallis convallis. Vivamus vehicula rutrum metus in semper. Morbi fringilla ex vel vulputate vehicula. Maecenas ut porttitor massa.





